<Ui xmlns="http://www.blizzard.com/wow/ui/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI_shared.xsd">

  <Button name="WeakAurasDisplayButtonTemplate" mixin="WeakAurasDisplayButtonMixin" inherits="OptionsListButtonTemplate" virtual="true">
    <Size x="600" y="32"/>
    <Frames>
      <Frame parentKey="offset">
        <Size x="1"/>
        <Anchors>
          <Anchor point="TOP" relativeKey="$parent" relativePoint="TOP"/>
          <Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM"/>
          <Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT"/>
        </Anchors>
      </Frame>
    </Frames>
    <Layers>
      <Layer level="BACKGROUND">
        <Texture parentKey="background" file="Interface/BUTTONS/UI-Listbox-Highlight2.blp" alphaMode="BLEND">
          <Color r="0.5" g="0.5" b="0.5" a="0.25"/>
        </Texture>
      </Layer>
      <Layer level="OVERLAY">
        <Texture parentKey="icon" file="Interface/BUTTONS/UI-Listbox-Highlight2.blp" alphaMode="ADD">
          <Size x="32" y="32"/>
          <Color r="0.5" g="0.5" b="0.5" a="0.25"/>
          <Anchors>
            <Anchor point="LEFT" relativeKey="$parent.offset" relativePoint="RIGHT"/>
          </Anchors>
        </Texture>
        <FontString parentKey="title" inherits="GameFontNormal" justifyH="LEFT">
          <Size y="14"/>
          <Anchors>
            <Anchor point="TOP" relativeKey="$parent" relativePoint="TOP" x="0" y="-2"/>
            <Anchor point="LEFT" relativeKey="$parent.icon" relativePoint="RIGHT" x="2" y="0"/>
            <Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT"/>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <Button parentKey="view">
        <Size x="16" y="16"/>
        <Anchors>
          <Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-2" y="0"/>
        </Anchors>
        <NormalTexture file="Interface/LFGFrame/BattlenetWorking4.blp">
          <TexCoords left="0.1" right="0.9" bottom="0.1" top="0.9"/>
        </NormalTexture>
        <HighlightTexture file="Interface/BUTTONS/UI-Panel-MinimizeButton-Highlight.blp" alphaMode="ADD"/>
      </Button>
      <EditBox parentKey="renamebox" inherits="InputBoxTemplate" hidden="true">
        <Size y="14"/>
        <Anchors>
          <Anchor point="TOP" relativeKey="$parent" relativePoint="TOP"/>
          <Anchor point="LEFT" relativeKey="$parent.icon" relativePoint="RIGHT" x="6" y="0"/>
          <Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-4" y="0"/>
        </Anchors>
        <FontString inherits="GameFontNormalSmall">
          <FontHeight val="10"/>
          <Color r="1" g="1" b="1" a="1"/>
        </FontString>
        <Scripts>
          <OnLoad>
            self.func = function() end
          </OnLoad>
          <OnEscapePressed>
            self:GetParent().title:Show()
            self:Hide()
          </OnEscapePressed>
          <OnEnterPressed>
            local button = self:GetParent()
            local oldid = button.title:GetText()
            local newid = self:GetText()
            if newid == "" or (newid ~= oldid and WeakAuras.GetData(newid)) then
              self:SetText(button.title:GetText())
            else
              self.func()
              button.title:SetText(self:GetText())
              button.title:Show()
              self:Hide()
            end
          </OnEnterPressed>
        </Scripts>
      </EditBox>
      <Button parentKey="group">
        <Size x="16" y="16"/>
        <Anchors>
          <Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-18" y="0"/>
        </Anchors>
        <NormalTexture file="Interface/GLUES/CharacterCreate/UI-RotationRight-Big-Up.blp">
          <TexCoords left="0.15" right="0.85" bottom="0.15" top="0.85"/>
        </NormalTexture>
        <HighlightTexture file="Interface/BUTTONS/UI-Panel-MinimizeButton-Highlight.blp" alphaMode="ADD"/>
      </Button>
      <Button parentKey="ungroup" hidden="true">
        <Size x="11" y="11"/>
        <Anchors>
          <Anchor point="LEFT" relativeKey="$parent.offset" relativePoint="RIGHT"/>
        </Anchors>
        <NormalTexture file="Interface/MoneyFrame/Arrow-Left-Down.blp">
          <TexCoords>
            <Rect ULx="0.5" ULy="0" LLx="0.5" LLy="1" URx="1" URy="0" LRx="1" LRy="1"/>
          </TexCoords>
        </NormalTexture>
        <HighlightTexture file="Interface/BUTTONS/UI-Panel-MinimizeButton-Highlight.blp" alphaMode="ADD"/>
      </Button>
      <Button parentKey="upgroup" hidden="true">
        <Size x="11" y="11"/>
        <Anchors>
          <Anchor point="TOPLEFT" relativeKey="$parent.offset" relativePoint="TOPRIGHT"/>
        </Anchors>
        <NormalTexture file="Interface/MoneyFrame/Arrow-Left-Down.blp">
          <TexCoords>
            <Rect ULx="0.5" ULy="1" LLx="1" LLy="1" URx="0.5" URy="0" LRx="1" LRy="0"/>
          </TexCoords>
        </NormalTexture>
        <HighlightTexture file="Interface/BUTTONS/UI-Panel-MinimizeButton-Highlight.blp" alphaMode="ADD"/>
      </Button>
      <Button parentKey="downgroup" hidden="true">
        <Size x="11" y="11"/>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeKey="$parent.offset" relativePoint="BOTTOMRIGHT"/>
        </Anchors>
        <NormalTexture file="Interface/MoneyFrame/Arrow-Left-Down.blp">
          <TexCoords>
            <Rect ULx="1" ULy="0" LLx="0.5" LLy="0" URx="1" URy="1" LRx="0.5" LRy="1"/>
          </TexCoords>
        </NormalTexture>
        <HighlightTexture file="Interface/BUTTONS/UI-Panel-MinimizeButton-Highlight.blp" alphaMode="ADD"/>
      </Button>
      <Button parentKey="expand">
        <Size x="16" y="16"/>
        <Anchors>
          <Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM"/>
          <Anchor point="LEFT" relativeKey="$parent.icon" relativePoint="RIGHT"/>
        </Anchors>
        <NormalTexture file="Interface/BUTTONS/UI-MinusButton-Up.blp"/>
        <PushedTexture file="Interface/BUTTONS/UI-MinusButton-Down.blp"/>
        <HighlightTexture file="Interface/BUTTONS/UI-Panel-MinimizeButton-Highlight.blp" alphaMode="ADD"/>
      </Button>
      <Frame parentKey="statusIcons">
        <Size x="1" y="1"/>
        <Anchors>
          <Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="1"/>
          <Anchor point="LEFT" relativeKey="$parent.icon" relativePoint="RIGHT"/>
        </Anchors>
      </Frame>
    </Frames>
  </Button>
</Ui>